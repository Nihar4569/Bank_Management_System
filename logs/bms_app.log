2025-11-07 11:06:52,603 [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-11-07 11:06:52,604 [INFO] [33mPress CTRL+C to quit[0m
2025-11-07 11:06:52,606 [INFO]  * Restarting with stat
2025-11-07 11:06:53,518 [WARNING]  * Debugger is active!
2025-11-07 11:06:53,520 [INFO]  * Debugger PIN: 126-793-802
2025-11-07 11:07:50,079 [INFO] 127.0.0.1 - - [07/Nov/2025 11:07:50] "GET / HTTP/1.1" 200 -
2025-11-07 11:07:50,560 [INFO] 127.0.0.1 - - [07/Nov/2025 11:07:50] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-11-07 11:07:59,975 [INFO]  * Detected change in 'C:\\Users\\nihasahu\\OneDrive - Cisco\\Desktop\\BMS\\Bank_Management_System\\app\\db.py', reloading
2025-11-07 11:08:00,314 [INFO]  * Restarting with stat
2025-11-07 11:08:01,634 [WARNING]  * Debugger is active!
2025-11-07 11:08:01,637 [INFO]  * Debugger PIN: 126-793-802
2025-11-07 11:08:03,679 [INFO]  * Detected change in 'C:\\Users\\nihasahu\\OneDrive - Cisco\\Desktop\\BMS\\Bank_Management_System\\app\\db.py', reloading
2025-11-07 11:08:03,875 [INFO]  * Restarting with stat
2025-11-07 11:08:04,865 [WARNING]  * Debugger is active!
2025-11-07 11:08:04,868 [INFO]  * Debugger PIN: 126-793-802
2025-11-07 11:25:03,733 [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-11-07 11:25:03,733 [INFO] [33mPress CTRL+C to quit[0m
2025-11-07 11:25:03,736 [INFO]  * Restarting with stat
2025-11-07 11:25:04,862 [WARNING]  * Debugger is active!
2025-11-07 11:25:04,867 [INFO]  * Debugger PIN: 126-793-802
2025-11-07 11:25:10,528 [INFO] Deposit successful: 500 to 1234567890 | New Balance: 10500.0
2025-11-07 11:25:10,530 [INFO] 127.0.0.1 - - [07/Nov/2025 11:25:10] "POST /accounts/deposit HTTP/1.1" 200 -
2025-11-07 11:27:36,815 [INFO]  * Detected change in 'C:\\Users\\nihasahu\\OneDrive - Cisco\\Desktop\\BMS\\Bank_Management_System\\app\\logger.py', reloading
2025-11-07 11:27:37,086 [INFO]  * Restarting with stat
2025-11-07 11:49:00,657 [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-11-07 11:49:00,658 [INFO] [33mPress CTRL+C to quit[0m
2025-11-07 11:49:00,660 [INFO]  * Restarting with stat
2025-11-07 11:49:01,684 [WARNING]  * Debugger is active!
2025-11-07 11:49:01,686 [INFO]  * Debugger PIN: 126-793-802
2025-11-07 11:50:01,631 [INFO] 127.0.0.1 - - [07/Nov/2025 11:50:01] "[33mPOST /accounts/ HTTP/1.1[0m" 404 -
2025-11-07 11:51:10,675 [INFO] 127.0.0.1 - - [07/Nov/2025 11:51:10] "GET / HTTP/1.1" 200 -
2025-11-07 11:51:55,731 [INFO] 127.0.0.1 - - [07/Nov/2025 11:51:55] "[35m[1mPOST /accounts HTTP/1.1[0m" 500 -
2025-11-07 12:29:13,412 [INFO]  * Detected change in 'C:\\Users\\nihasahu\\OneDrive - Cisco\\Desktop\\BMS\\Bank_Management_System\\app\\routes.py', reloading
2025-11-07 12:29:13,635 [INFO]  * Restarting with stat
2025-11-07 12:29:15,088 [WARNING]  * Debugger is active!
2025-11-07 12:29:15,090 [INFO]  * Debugger PIN: 126-793-802
2025-11-07 12:31:10,816 [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-11-07 12:31:10,817 [INFO] [33mPress CTRL+C to quit[0m
2025-11-07 12:31:10,820 [INFO]  * Restarting with stat
2025-11-07 12:31:11,787 [WARNING]  * Debugger is active!
2025-11-07 12:31:11,791 [INFO]  * Debugger PIN: 126-793-802
2025-11-07 12:31:25,522 [INFO] \u2705 New Account Created
-------------------------
Name: Nihar Ranjan Sahu
Account Number: 1234567890
Opening Balance: 5000
2025-11-07 12:31:25,531 [INFO] 127.0.0.1 - - [07/Nov/2025 12:31:25] "[35m[1mPOST /accounts HTTP/1.1[0m" 201 -
2025-11-07 12:32:56,384 [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-11-07 12:32:56,384 [INFO] [33mPress CTRL+C to quit[0m
2025-11-07 12:32:56,385 [INFO]  * Restarting with stat
2025-11-07 12:32:57,384 [WARNING]  * Debugger is active!
2025-11-07 12:32:57,386 [INFO]  * Debugger PIN: 126-793-802
2025-11-07 12:33:04,344 [INFO] \u2705 New Account Created
-------------------------
Name: Nihar Ranjan Sahu
Account Number: 1234567890
Opening Balance: 5000
2025-11-07 12:33:04,356 [INFO] 127.0.0.1 - - [07/Nov/2025 12:33:04] "[35m[1mPOST /accounts HTTP/1.1[0m" 201 -
2025-11-07 12:33:46,239 [INFO] 127.0.0.1 - - [07/Nov/2025 12:33:46] "[31m[1mPOST /accounts/deposit HTTP/1.1[0m" 400 -
2025-11-07 12:34:12,444 [INFO] \U0001f4b0 Deposit Successful
-------------------------
Account Number: 1234567890
Amount Deposited: 500
New Balance: 5500.0
2025-11-07 12:34:12,445 [INFO] 127.0.0.1 - - [07/Nov/2025 12:34:12] "POST /accounts/deposit HTTP/1.1" 200 -
2025-11-07 14:26:36,288 [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-11-07 14:26:36,289 [INFO] [33mPress CTRL+C to quit[0m
2025-11-07 14:26:36,292 [INFO]  * Restarting with stat
2025-11-07 14:26:37,313 [WARNING]  * Debugger is active!
2025-11-07 14:26:37,320 [INFO]  * Debugger PIN: 126-793-802
2025-11-07 14:26:56,991 [INFO] Batch calculation completed and summary email sent.
2025-11-07 14:26:56,992 [INFO] 127.0.0.1 - - [07/Nov/2025 14:26:56] "GET /batch_calc HTTP/1.1" 200 -
2025-11-07 14:27:01,210 [INFO] \u2705 New Account Created
-------------------------
Name: Test User
Account Number: 5550001111
Opening Balance: 1000
2025-11-07 14:27:01,216 [INFO] 127.0.0.1 - - [07/Nov/2025 14:27:01] "[35m[1mPOST /accounts HTTP/1.1[0m" 201 -
2025-11-07 14:27:01,230 [INFO] 127.0.0.1 - - [07/Nov/2025 14:27:01] "GET /accounts HTTP/1.1" 200 -
2025-11-07 14:27:05,448 [INFO] \U0001f4b0 Deposit Successful
-------------------------
Account Number: 5550001111
Amount Deposited: 500
New Balance: 1500.0
2025-11-07 14:27:05,449 [INFO] 127.0.0.1 - - [07/Nov/2025 14:27:05] "POST /accounts/deposit HTTP/1.1" 200 -
2025-11-07 14:27:10,866 [INFO] \U0001f4b8 Withdrawal Successful
-------------------------
Account Number: 5550001111
Amount Withdrawn: 200
Remaining Balance: 1300.0
2025-11-07 14:27:10,866 [INFO] 127.0.0.1 - - [07/Nov/2025 14:27:10] "POST /accounts/withdraw HTTP/1.1" 200 -
2025-11-07 14:27:10,876 [INFO] 127.0.0.1 - - [07/Nov/2025 14:27:10] "GET /accounts HTTP/1.1" 200 -
2025-11-07 14:27:15,655 [INFO] \u270f\ufe0f Account Updated
-------------------------
Account ID: 1
Updated Balance: 5500.0
2025-11-07 14:27:15,656 [INFO] 127.0.0.1 - - [07/Nov/2025 14:27:15] "PUT /accounts/1 HTTP/1.1" 200 -
2025-11-07 14:27:20,575 [INFO] \u2705 New Account Created
-------------------------
Name: Delete User
Account Number: 8889990001
Opening Balance: 500
2025-11-07 14:27:20,578 [INFO] 127.0.0.1 - - [07/Nov/2025 14:27:20] "[35m[1mPOST /accounts HTTP/1.1[0m" 201 -
2025-11-07 14:27:24,751 [INFO] \u274c Account Deleted
-------------------------
Account Number: 8889990001
2025-11-07 14:27:24,751 [INFO] 127.0.0.1 - - [07/Nov/2025 14:27:24] "DELETE /accounts/3 HTTP/1.1" 200 -
2025-11-07 14:51:17,169 [INFO]  * Detected change in 'C:\\Users\\nihasahu\\OneDrive - Cisco\\Desktop\\BMS\\Bank_Management_System\\app\\exceptions.py', reloading
2025-11-07 14:51:17,282 [INFO]  * Restarting with stat
2025-11-07 14:51:18,535 [WARNING]  * Debugger is active!
2025-11-07 14:51:18,537 [INFO]  * Debugger PIN: 126-793-802
2025-11-07 14:52:01,764 [INFO]  * Detected change in 'C:\\Users\\nihasahu\\OneDrive - Cisco\\Desktop\\BMS\\Bank_Management_System\\app\\__init__.py', reloading
2025-11-07 14:52:01,932 [INFO]  * Restarting with stat
2025-11-07 15:11:10,799 [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-11-07 15:11:10,800 [INFO] [33mPress CTRL+C to quit[0m
2025-11-07 15:11:10,801 [INFO]  * Restarting with stat
2025-11-07 15:11:11,580 [WARNING]  * Debugger is active!
2025-11-07 15:11:11,582 [INFO]  * Debugger PIN: 126-793-802
2025-11-07 15:11:17,227 [INFO] Batch calculation completed and summary email sent.
2025-11-07 15:11:17,229 [INFO] 127.0.0.1 - - [07/Nov/2025 15:11:17] "GET /batch_calc HTTP/1.1" 200 -
2025-11-07 15:11:17,246 [ERROR] Error creating account 5550001111: (sqlite3.IntegrityError) UNIQUE constraint failed: account.number
[SQL: INSERT INTO account (name, number, email, balance) VALUES (?, ?, ?, ?)]
[parameters: ('Test User', '5550001111', 'testuser@gmail.com', 1000.0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: account.number

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\nihasahu\OneDrive - Cisco\Desktop\BMS\Bank_Management_System\app\crud.py", line 14, in create_account
    db.session.commit()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\orm\session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\orm\session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\orm\session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\nihasahu\AppData\Local\Python\pythoncore-3.14-64\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: account.number
[SQL: INSERT INTO account (name, number, email, balance) VALUES (?, ?, ?, ?)]
[parameters: ('Test User', '5550001111', 'testuser@gmail.com', 1000.0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-11-07 15:11:17,269 [ERROR] BMSException: Failed to create account. Please try again.
2025-11-07 15:11:17,271 [INFO] 127.0.0.1 - - [07/Nov/2025 15:11:17] "[31m[1mPOST /accounts HTTP/1.1[0m" 400 -
2025-11-07 15:11:17,404 [INFO] 127.0.0.1 - - [07/Nov/2025 15:11:17] "GET /accounts HTTP/1.1" 200 -
2025-11-07 15:11:20,632 [INFO] \U0001f4b0 Deposit Successful
-------------------------
Account Number: 5550001111
Amount Deposited: 500
New Balance: 1800.0
2025-11-07 15:11:20,633 [INFO] 127.0.0.1 - - [07/Nov/2025 15:11:20] "POST /accounts/deposit HTTP/1.1" 200 -
2025-11-07 15:11:23,541 [INFO] \U0001f4b8 Withdrawal Successful
-------------------------
Account Number: 5550001111
Amount Withdrawn: 200
Remaining Balance: 1600.0
2025-11-07 15:11:23,543 [INFO] 127.0.0.1 - - [07/Nov/2025 15:11:23] "POST /accounts/withdraw HTTP/1.1" 200 -
2025-11-07 15:11:23,557 [INFO] 127.0.0.1 - - [07/Nov/2025 15:11:23] "GET /accounts HTTP/1.1" 200 -
2025-11-07 15:11:26,479 [INFO] \u270f\ufe0f Account Updated
-------------------------
Account ID: 1
Updated Balance: 5500.0
2025-11-07 15:11:26,480 [INFO] 127.0.0.1 - - [07/Nov/2025 15:11:26] "PUT /accounts/1 HTTP/1.1" 200 -
2025-11-07 15:11:29,397 [INFO] \u2705 New Account Created
-------------------------
Name: Delete User
Account Number: 8889990001
Opening Balance: 500
2025-11-07 15:11:29,400 [INFO] 127.0.0.1 - - [07/Nov/2025 15:11:29] "[35m[1mPOST /accounts HTTP/1.1[0m" 201 -
2025-11-07 15:11:54,345 [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-11-07 15:11:54,345 [INFO] [33mPress CTRL+C to quit[0m
2025-11-07 15:11:54,347 [INFO]  * Restarting with stat
2025-11-07 15:11:55,366 [WARNING]  * Debugger is active!
2025-11-07 15:11:55,368 [INFO]  * Debugger PIN: 126-793-802
